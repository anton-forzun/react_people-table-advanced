(this["webpackJsonpreact_people-table-advanced"]=this["webpackJsonpreact_people-table-advanced"]||[]).push([[0],{49:function(e,t,c){},50:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c(24),n=c.n(s),r=c(7),o=c(2),j=(c(33),c(0)),l=function(){return Object(j.jsx)("header",{children:Object(j.jsxs)("nav",{className:"navbar",children:[Object(j.jsx)(r.b,{to:"/",exact:!0,className:"navbar-item",activeClassName:"is-active",children:"Home"}),Object(j.jsx)(r.b,{to:"/people",className:"navbar-item",activeClassName:"is-active",children:"People"})]})})},i=c(10),b=c(28),h=c(9),d=c(27),m=c.n(d),u=function(){var e=Object(o.g)(),t=new URLSearchParams(Object(o.h)().search),c=t.get("query"),s=Object(a.useState)(c),n=Object(h.a)(s,2),r=(n[0],n[1]),l=Object(a.useCallback)(m()((function(c){c?t.set("query",c):t.delete("query"),e.push("?".concat(t.toString()))}),1e3),[]);return Object(j.jsx)("form",{className:"form",children:Object(j.jsxs)("div",{className:"field",children:[Object(j.jsx)("label",{className:"label",htmlFor:"search",children:"Search:"}),Object(j.jsx)("input",{className:"input",id:"search",placeholder:"Enter person's name",onChange:function(e){r(e.target.value),l(e.target.value)}})]})})},O=c(13),p=c(15),x=c.n(p),f=function(e){var t=e.person,c=t.name,a=t.sex,s=t.born,n=Object(o.g)(),r=new URLSearchParams(Object(o.h)().search);return Object(j.jsx)("button",{type:"button",className:x()("button",{female:"f"===a,male:"m"===a}),onClick:function(e){var t=c.toLowerCase().split(" ").join("-");r.set("slug","".concat(t,"-").concat(s)),n.push("?".concat(r.toString()))},children:c})},N=function(e){var t=e.person,c=t.name,a=t.sex,s=t.born,n=t.died,r=t.mother,l=t.father,i=t.motherName,b=t.fatherName,h=new URLSearchParams(Object(o.h)().search).get("slug");return Object(j.jsxs)("tr",{className:x()("tr",{selectedPerson:h==="".concat(c.toLowerCase().split(" ").join("-"),"-").concat(s)}),children:[Object(j.jsx)("td",{className:"td",children:Object(j.jsx)(f,{person:t})}),Object(j.jsx)("td",{className:"td",children:a}),Object(j.jsx)("td",{className:"td",children:s}),Object(j.jsx)("td",{className:"td",children:n}),Object(j.jsx)("td",{className:"td",children:r?Object(j.jsx)(f,{person:r}):i}),Object(j.jsx)("td",{className:"td",children:l?Object(j.jsx)(f,{person:l}):b})]},c)},v=function(e){var t=e.people,c=Object(a.useState)({name:"asc",sex:"asc",born:"asc",died:"asc",mother:"",father:""}),s=Object(h.a)(c,2),n=s[0],r=s[1],l=Object.keys(n),b=Object(o.g)(),d=new URLSearchParams(Object(o.h)().search),m=function(e){var t=e.target.name;d.set("sortBy",t),d.set("sortOrder",n[t]);var c="asc"===n[t]?"desc":"asc";r(Object(i.a)(Object(i.a)({},n),{},Object(O.a)({},t,c))),b.push("?".concat(d.toString()))};return Object(j.jsxs)("table",{className:"PeopleTable table is-hoverable",children:[Object(j.jsx)("thead",{className:"thead",children:Object(j.jsx)("tr",{className:"tr",children:l.map((function(e){return Object(j.jsx)("th",{className:"th",children:Object(j.jsxs)("div",{className:"container th-container",children:[Object(j.jsx)("span",{children:e.toUpperCase()}),n[e]&&Object(j.jsxs)("div",{className:"buttons",children:[Object(j.jsx)("button",{type:"button",className:"button is-white btn-asc",name:e,onClick:m,disabled:"desc"===n[e]}),Object(j.jsx)("button",{type:"button",className:"button is-white btn-desc",name:e,onClick:m,disabled:"asc"===n[e]})]})]})},e)}))})}),Object(j.jsx)("tbody",{className:"tbody",children:t&&t.map((function(e){return Object(j.jsx)(N,{person:e},e.name)}))})]})},g=function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),c=t[0],s=t[1],n=Object(b.a)(c),r=new URLSearchParams(Object(o.h)().search),l=r.get("query"),d=r.get("sortBy"),m=r.get("sortOrder");Object(a.useEffect)((function(){fetch("".concat("https://mate-academy.github.io/react_people-table/api","/people.json")).then((function(e){return e.json()})).then((function(e){return e.map((function(t){return Object(i.a)(Object(i.a)({},t),{},{mother:e.find((function(e){return e.name===t.motherName})),father:e.find((function(e){return e.name===t.fatherName}))})}))})).then(s)}),[]);return l&&(n=n.filter((function(e){var t=e.name,c=e.motherName,a=e.fatherName;return"".concat(t).concat(c).concat(a).toLowerCase().includes(l.toLowerCase())}))),d&&(n=n.sort((function(e,t){return"born"===d||"died"===d?"asc"===m?e[d]<t[d]?1:-1:e[d]>t[d]?1:-1:"asc"===m?e[d].localeCompare(t[d]):t[d].localeCompare(e[d])}))),Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h1",{className:"title is-4",children:"People page"}),Object(j.jsx)(u,{}),Object(j.jsx)(v,{people:n})]})},y=function(){return Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("h1",{className:"title is-4",children:"Home page"})})},C=(c(49),function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(l,{}),Object(j.jsx)("main",{children:Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{path:"/",exact:!0,component:y}),Object(j.jsx)(o.b,{path:"/people",component:g}),Object(j.jsx)(o.a,{to:"/",from:"/home"}),Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("h1",{className:"title is-4",children:"Page Not Found"})})]})})]})});n.a.render(Object(j.jsx)(r.a,{children:Object(j.jsx)(C,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.c073317b.chunk.js.map