{"version":3,"sources":["components/Header.jsx","components/Form.jsx","components/PersonName.jsx","components/PersonRow.jsx","components/PeopleTable.jsx","components/PeoplePage.jsx","api.jsx","components/HomePage.jsx","App.jsx","index.jsx"],"names":["Header","className","to","exact","activeClassName","Form","history","useHistory","searchParams","URLSearchParams","useLocation","search","appliedQuery","get","useState","setQuery","applyQuery","useCallback","debounce","newQuery","set","delete","push","toString","htmlFor","id","placeholder","onChange","event","target","value","PersonName","person","name","sex","born","type","cn","female","male","onClick","formattedName","toLowerCase","split","join","PersonRow","died","mother","father","motherName","fatherName","slug","selectedPerson","PeopleTable","people","sortingData","setSortingData","keyWords","Object","keys","applySortBy","keyWord","newOrder","map","toUpperCase","disabled","PeoplePage","setPeople","visiblePeople","query","sortBy","sortOrder","useEffect","fetch","then","json","result","find","filter","includes","sort","a","b","localeCompare","HomePage","App","path","component","from","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c073317b.chunk.js","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nexport const Header = () => (\n  <header>\n    <nav className=\"navbar\">\n      <NavLink\n        to=\"/\"\n        exact\n        className=\"navbar-item\"\n        activeClassName=\"is-active\"\n      >\n        Home\n      </NavLink>\n\n      <NavLink\n        to=\"/people\"\n        className=\"navbar-item\"\n        activeClassName=\"is-active\"\n      >\n        People\n      </NavLink>\n    </nav>\n  </header>\n);\n","/* eslint-disable arrow-body-style */\nimport React, { useCallback, useState } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport debounce from 'lodash/debounce';\n\nexport const Form = () => {\n  const history = useHistory();\n  const searchParams = new URLSearchParams(useLocation().search);\n\n  const appliedQuery = searchParams.get('query');\n\n  // eslint-disable-next-line no-unused-vars\n  const [query, setQuery] = useState(appliedQuery);\n\n  const applyQuery = useCallback(\n    debounce((newQuery) => {\n      if (newQuery) {\n        searchParams.set('query', newQuery);\n      } else {\n        searchParams.delete('query');\n      }\n\n      history.push(`?${searchParams.toString()}`);\n    }, 1000),\n    [],\n  );\n\n  const handleQueryChange = (event) => {\n    setQuery(event.target.value);\n    applyQuery(event.target.value);\n  };\n\n  return (\n    <form className=\"form\">\n\n      <div className=\"field\">\n        <label className=\"label\" htmlFor=\"search\">\n          Search:\n        </label>\n        <input\n          className=\"input\"\n          id=\"search\"\n          placeholder=\"Enter person's name\"\n          onChange={handleQueryChange}\n        />\n      </div>\n    </form>\n  );\n};\n","/* eslint-disable arrow-body-style */\n/* eslint-disable react/prop-types */\nimport React from 'react';\nimport cn from 'classnames';\n\nimport { useHistory, useLocation } from 'react-router-dom';\n\nexport const PersonName = ({ person }) => {\n  const { name, sex, born } = person;\n  const history = useHistory();\n  const searchParams = new URLSearchParams(useLocation().search);\n\n  const handleCLick = (event) => {\n    const formattedName = name.toLowerCase().split(' ').join('-');\n\n    searchParams.set('slug', `${formattedName}-${born}`);\n    history.push(`?${searchParams.toString()}`);\n  };\n\n  return (\n    <button\n      type=\"button\"\n      className={cn('button', {\n        female: sex === 'f',\n        male: sex === 'm',\n      })}\n      onClick={handleCLick}\n    >\n      {name}\n    </button>\n  );\n};\n","/* eslint-disable arrow-body-style */\nimport React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport { PersonName } from './PersonName';\n\nexport const PersonRow = ({ person }) => {\n  const {\n    name,\n    sex,\n    born,\n    died,\n    mother,\n    father,\n    motherName,\n    fatherName,\n  } = person;\n\n  const searchParams = new URLSearchParams(useLocation().search);\n  const slug = searchParams.get('slug');\n\n  return (\n    <tr\n      key={name}\n      className={cn('tr', {\n        selectedPerson: slug\n          === `${name.toLowerCase().split(' ').join('-')}-${born}`,\n      })}\n    >\n      <td className=\"td\">\n        <PersonName person={person} />\n      </td>\n      <td className=\"td\">{sex}</td>\n      <td className=\"td\">{born}</td>\n      <td className=\"td\">{died}</td>\n      <td className=\"td\">\n        {mother\n          ? <PersonName person={mother} />\n          : motherName}\n      </td>\n      <td className=\"td\">\n        {father\n          ? <PersonName person={father} />\n          : fatherName}\n      </td>\n    </tr>\n  );\n};\n\nPersonRow.propTypes = {\n  person: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    sex: PropTypes.string.isRequired,\n    born: PropTypes.number.isRequired,\n    died: PropTypes.number.isRequired,\n    motherName: PropTypes.string,\n    fatherName: PropTypes.string,\n    mother: PropTypes.string,\n    father: PropTypes.string,\n  }).isRequired,\n};\n","import React, { useState } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport PropTypes, { object } from 'prop-types';\n\nimport { PersonRow } from './PersonRow';\n\nexport const PeopleTable = ({ people }) => {\n  const [sortingData, setSortingData] = useState({\n    name: 'asc',\n    sex: 'asc',\n    born: 'asc',\n    died: 'asc',\n    mother: '',\n    father: '',\n  });\n\n  const keyWords = Object.keys(sortingData);\n  const history = useHistory();\n  const searchParams = new URLSearchParams(useLocation().search);\n\n  const applySortBy = (event) => {\n    const keyWord = event.target.name;\n\n    searchParams.set('sortBy', keyWord);\n    searchParams.set('sortOrder', sortingData[keyWord]);\n\n    const newOrder = sortingData[keyWord] === 'asc'\n      ? 'desc'\n      : 'asc';\n\n    setSortingData({\n      ...sortingData,\n      [keyWord]: newOrder,\n    });\n\n    history.push(`?${searchParams.toString()}`);\n  };\n\n  return (\n    <table className=\"PeopleTable table is-hoverable\">\n      <thead className=\"thead\">\n        <tr className=\"tr\">\n          {keyWords.map(keyWord => (\n            <th\n              key={keyWord}\n              className=\"th\"\n            >\n              <div className=\"container th-container\">\n\n                <span>\n                  {keyWord.toUpperCase()}\n                </span>\n\n                {sortingData[keyWord] && (\n                  <div className=\"buttons\">\n                    <button\n                      type=\"button\"\n                      className=\"button is-white btn-asc\"\n                      name={keyWord}\n                      onClick={applySortBy}\n                      disabled={sortingData[keyWord] === 'desc'}\n                    />\n                    <button\n                      type=\"button\"\n                      className=\"button is-white btn-desc\"\n                      name={keyWord}\n                      onClick={applySortBy}\n                      disabled={sortingData[keyWord] === 'asc'}\n                    />\n                  </div>\n                )\n              }\n\n              </div>\n            </th>\n          ))}\n        </tr>\n      </thead>\n\n      <tbody className=\"tbody\">\n        {people && people\n          .map(person => <PersonRow key={person.name} person={person} />)\n        }\n      </tbody>\n    </table>\n  );\n};\n\nPeopleTable.propTypes = {\n  people: PropTypes.arrayOf({ object }).isRequired,\n};\n","/* eslint-disable arrow-body-style */\nimport React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { getPeople } from '../api';\nimport { Form } from './Form';\nimport { PeopleTable } from './PeopleTable';\n\nexport const PeoplePage = () => {\n  const [people, setPeople] = useState([]);\n  let visiblePeople = [...people];\n\n  const searchParams = new URLSearchParams(useLocation().search);\n  const query = searchParams.get('query');\n  const sortBy = searchParams.get('sortBy');\n  const sortOrder = searchParams.get('sortOrder');\n\n  useEffect(() => {\n    getPeople()\n      .then(result => result\n        .map(person => ({\n          ...person,\n          mother: result\n            .find(mother => mother.name === person.motherName),\n          father: result\n            .find(father => father.name === person.fatherName),\n        }\n        )))\n      .then(setPeople);\n  }, []);\n\n  const filterPeople = () => {\n    visiblePeople = visiblePeople\n      .filter(({ name, motherName, fatherName }) => {\n        return `${name}${motherName}${fatherName}`\n          .toLowerCase()\n          .includes(query.toLowerCase());\n      });\n  };\n\n  const sortPeople = () => {\n    visiblePeople = visiblePeople.sort((a, b) => {\n      if (sortBy === 'born' || sortBy === 'died') {\n        if (sortOrder === 'asc') {\n          return a[sortBy] < b[sortBy] ? 1 : -1;\n        }\n\n        return a[sortBy] > b[sortBy] ? 1 : -1;\n      }\n\n      if (sortOrder === 'asc') {\n        return a[sortBy].localeCompare(b[sortBy]);\n      }\n\n      return b[sortBy].localeCompare(a[sortBy]);\n    });\n  };\n\n  if (query) {\n    filterPeople();\n  }\n\n  if (sortBy) {\n    sortPeople();\n  }\n\n  return (\n    <div className=\"container\">\n      <h1 className=\"title is-4\">People page</h1>\n      <Form />\n      <PeopleTable people={visiblePeople} />\n    </div>\n  );\n};\n","/* eslint-disable arrow-body-style */\nconst BASE_URL = 'https://mate-academy.github.io/react_people-table/api';\n\nexport const getPeople = () => {\n  return fetch(`${BASE_URL}/people.json`)\n    .then(people => people.json());\n};\n","import React from 'react';\n\nexport const HomePage = () => (\n  <div className=\"container\">\n    <h1 className=\"title is-4\">\n      Home page\n    </h1>\n  </div>\n);\n","import React from 'react';\n\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport 'bulma/css/bulma.min.css';\n\nimport { Header } from './components/Header';\nimport { PeoplePage } from './components/PeoplePage';\nimport { HomePage } from './components/HomePage';\n\nimport './App.scss';\n\nconst App = () => (\n  <div className=\"App\">\n    <Header />\n    <main>\n      <Switch>\n        <Route path=\"/\" exact component={HomePage} />\n        <Route path=\"/people\" component={PeoplePage} />\n\n        <Redirect to=\"/\" from=\"/home\" />\n\n        <div className=\"container\">\n          <h1 className=\"title is-4\">Page Not Found</h1>\n        </div>\n      </Switch>\n    </main>\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}